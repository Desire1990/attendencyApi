(function(){"use strict";var e={1530:function(e,t,s){var a=s(7195),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"body"}},[t("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0"}}),e.logged_in?t("div",{staticClass:"main"},[t("NavBar"),t("router-view"),t("div",{staticClass:"loggout",on:{click:e.loggout}},[t("fa",{attrs:{icon:"power-off"}})],1)],1):t("div",[t("Login")],1)])},o=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"centered"},[t("form",{attrs:{action:".",method:"post"}},[t("center",[t("h2",{staticStyle:{"text-transform":"uppercase"}},[e._v("Gestion des presences")])]),t("br"),t("br"),t("div",{staticClass:"field"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"Username ",required:"",id:"id_username",autocomplete:"on"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"field"},[e._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password ",required:"",id:"id_password",autocomplete:"on"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e.logs.length>0?t("label",{staticStyle:{color:"red"},attrs:{for:"id_password"}},[e._v(e._s(e.logs)+" ")]):e._e(),t("div",{staticClass:"btns"},[t("br"),t("br"),t("button",{on:{click:function(t){return t.preventDefault(),e.logIn.apply(null,arguments)}}},[e._v("Log In")])]),t("center",[e._v(" Developpée par "),t("b",[t("a",{attrs:{href:"#"}},[e._v("Raoul")])])])],1)])},n=[function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"id_username"}},[t("strong",[e._v("Nom d'utilisateur:")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"id_password"}},[t("strong",[e._v("Mot de passe:")])])}],l=s(8428),c=s.n(l),d={data(){return{logs:"",username:"",password:"",url:this.$store.state.url}},methods:{logIn(){this.logs="loging in...",c().post(this.url+"/login/",{username:this.username,password:this.password}).then((e=>{this.$store.state.user=e.data})).catch((e=>{e.response?this.logs=JSON.stringify(e.response.data):this.logs="erreur de connectivité"}))}}},u=d,p=s(1001),v=(0,p.Z)(u,r,n,!1,null,"2b04b385",null),m=v.exports,h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar",class:e.isOpened?"open":"",style:e.cssVars},[t("div",{staticClass:"logo-details",staticStyle:{margin:"6px 14px 0 14px"}},[e.menuLogo?t("img",{staticClass:"menu-logo icon",attrs:{src:e.menuLogo,alt:"menu-logo"}}):t("i",{staticClass:"bx icon",class:e.menuIcon}),t("div",{staticClass:"logo_name"},[e._v(" "+e._s(e.menuTitle)+" ")]),t("i",{staticClass:"bx",class:e.isOpened?"bx-menu-alt-right":"bx-menu",attrs:{id:"btn"},on:{click:function(t){e.isOpened=!e.isOpened}}})]),t("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between","flex-grow":"1","max-height":"calc(100% - 60px)"}},[t("div",{staticStyle:{margin:"6px 14px 0 14px"},attrs:{id:"my-scroll"}},[t("ul",{staticClass:"nav-list",staticStyle:{overflow:"visible"}},e._l(e.menuItems,(function(s,a){return t("span",{key:a},[e.has_permission(s)?t("li",[t("router-link",{attrs:{to:s.link}},[t("i",{staticClass:"bx",class:s.icon||"bx-square-rounded"}),t("span",{staticClass:"links_name"},[e._v(e._s(s.name))]),t("span",{staticClass:"tooltip"},[e._v(e._s(s.tooltip||s.name))])])],1):e._e()])})),0)]),e.isLoggedIn?t("div",{staticClass:"profile"},[t("div",{staticClass:"profile-details"},[e.profileImg?t("img",{attrs:{src:e.profileImg,alt:"profileImg"}}):t("i",{staticClass:"bx bxs-user-rectangle"}),t("div",{staticClass:"name_job"},[t("div",{staticClass:"name"},[t("h3",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(this.user.username))])])])]),e.isExitButton?t("i",{staticClass:"bx bx-log-out",attrs:{id:"log_out"},on:{click:function(t){return t.stopPropagation(),e.loggout.apply(null,arguments)}}}):e._e()]):e._e()])])},_=[],g={name:"SidebarMenuAkahon",props:{
//! Menu settings
isMenuOpen:{type:Boolean,default:!0},menuTitle:{type:String,default:"Gestion RH"},menuLogo:{type:String,default:"https://upload.wikimedia.org/wikipedia/en/e/e0/Emblem_of_the_University_of_Burundi.gif"},menuIcon:{type:String,default:"bxl-c-plus-plus"},isPaddingLeft:{type:Boolean,default:!0},menuOpenedPaddingLeftBody:{type:String,default:"250px"},menuClosedPaddingLeftBody:{type:String,default:"78px"},
//! Menu items
menuItems:{type:Array,default:()=>[{link:"/",name:"Dashboard",tooltip:"Dashboard",icon:"bx-grid-alt"},{link:"/employes",name:"Employes",tooltip:"User",icon:"bx-user",user:"admin"},{link:"/conge",name:"Conge",tooltip:"Messages",icon:"bx-store"},{link:"/presence",name:"Presence",tooltip:"Messages",icon:"bx-store-alt"},{link:"/agence",name:"Agence",tooltip:"Messages",icon:"bx-store-alt",user:"admin"},{link:"/Service",name:"service",tooltip:"Messages",icon:"bx-store-alt",user:"admin"},{link:"/quotation",name:"Quotation",tooltip:"Messages",icon:"bx-store-alt",user:"admin"}]},
//! Search
isSearch:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"Search..."},searchTooltip:{type:String,default:"Search"},
//! Profile detailes
profileImg:{type:String,default:"https://upload.wikimedia.org/wikipedia/en/e/e0/Emblem_of_the_University_of_Burundi.gif"},profileName:{type:String,default:"Gestion"},profileRole:{type:String,default:"Labo UB"},isExitButton:{type:Boolean,default:!0},isLoggedIn:{type:Boolean,default:!0},
//! Styles
bgColor:{type:String,default:"#11101d"},secondaryColor:{type:String,default:"#1d1b31"},homeSectionColor:{type:String,default:"#e4e9f7"},logoTitleColor:{type:String,default:"#fff"},iconsColor:{type:String,default:"#fff"},itemsTooltipColor:{type:String,default:"#e4e9f7"},searchInputTextColor:{type:String,default:"#fff"},menuItemsHoverColor:{type:String,default:"#fff"},menuItemsTextColor:{type:String,default:"#fff"},menuFooterTextColor:{type:String,default:"#fff"}},data(){return{isOpened:!1}},mounted(){this.isOpened=this.isMenuOpen},computed:{cssVars(){return{"--bg-color":this.bgColor,"--secondary-color":this.secondaryColor,"--home-section-color":this.homeSectionColor,"--logo-title-color":this.logoTitleColor,"--icons-color":this.iconsColor,"--items-tooltip-color":this.itemsTooltipColor,"--serach-input-text-color":this.searchInputTextColor,"--menu-items-hover-color":this.menuItemsHoverColor,"--menu-items-text-color":this.menuItemsTextColor,"--menu-footer-text-color":this.menuFooterTextColor}}},watch:{isOpened(){window.document.body.style.paddingLeft=this.isOpened&&this.isPaddingLeft?this.menuOpenedPaddingLeftBody:this.menuClosedPaddingLeftBody}},methods:{has_permission(e){return!e.user||!!this.$store.state.user.groups.includes(e.user)},loggout(){confirm("Are you sure you wanna logout?")&&(this.$store.state.user=null)}}},f=g,b=(0,p.Z)(f,h,_,!1,null,"bb271b9a",null),y=b.exports,C={components:{NavBar:y,Login:m},computed:{logged_in(){return null!=this.$store.state.user}},mounted(){var e=JSON.parse(localStorage.getItem("user"));e?this.$store.state.user=e:console.warn("il y'a pas de session")},watch:{"$store.state.user":{deep:!0,handler(e){localStorage.setItem("user",JSON.stringify(e))}}},methods:{loggout(){confirm("êtes vous sur de vouloir deconnecter?")&&(this.$store.state.user=null)}}},$=C,x=(0,p.Z)($,i,o,!1,null,"5c881214",null),w=x.exports,S=s(2241),D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dashboard"},[e._m(0),t("section",{staticClass:"content"},[t("section",{staticClass:"container-fluid"},[t("section",{staticClass:"row"},[t("section",{staticClass:"col col-lg-4"},[t("div",{staticClass:"employee-box sec-box"},[e._m(1),t("span",{staticClass:"count-object"},[e._v(e._s(e.employes.length))])])]),t("section",{staticClass:"col col-lg-4"},[t("div",{staticClass:"leave-box sec-box"},[t("span",[e._v("Conges")]),t("span",{staticClass:"count-object",staticStyle:{color:"#41b6d6"}},[e._v(e._s(e.conges.length))])])]),t("section",{staticClass:"col col-lg-4"},[t("div",{staticClass:"birthday-box sec-box"},[e._m(2),t("span",{staticClass:"count-object"},[e._v(" "+e._s(e.presences.length)+" jours ")])])])])])])])},P=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])])])])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:""}},[t("span",[e._v("Employes ")])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:""}},[t("span",[e._v("Presences")])])}],k={data(){return{employes:this.$store.state.employes,conges:this.$store.state.conges,presences:this.$store.state.presences}},mounted(){this.fetchEmployes(),this.fetchData(),this.fetchConges()},methods:{fetchEmployes(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/employe/",e).then((e=>{this.$store.state.employes=e.data,this.employes=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},fetchConges(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/conge/",e).then((e=>{this.$store.state.conges=e.data,this.conges=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/presence/",e).then((e=>{this.$store.state.presences=e.data,this.presences=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))}}},E=k,A=(0,p.Z)(E,D,P,!1,null,"de7f9fbc",null),N=A.exports,B=function(){var e=this,t=e._self._c;return t("section",{staticClass:"content"},[e._m(0),t("section",{staticClass:"container-fluid"},[e._m(1),t("section",{staticClass:"row margin-bottom"},[t("div",{staticClass:"container-fluid"},[t("section",{staticClass:"col-lg-4 col-md-4 col-sm-12"},[t("div",{staticClass:"employee-box sec-box"},[e._m(2),t("span",{staticClass:"count-object"},[e._v(e._s(e.items.length))])])]),t("section",{staticClass:"col-lg-4 col-md-4 col-sm-12"},[t("div",{staticClass:"leave-box sec-box"},[e._m(3),t("span",{staticClass:"count-object deprt"},[e._v(e._s(e.items2.length))])])]),t("section",{staticClass:"col-lg-4 col-md-4 col-sm-12"},[t("div",{staticClass:"birthday-box sec-box"},[e._m(4),t("span",{staticClass:"count-object"},[e._v(e._s(e.items1.length))])])])])]),e._m(5),t("div",{staticClass:"table-responsive table-shadow"},[e._m(6),t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"download-print-action"},[e._v(" Download Excel | Pdf | Print ")]),t("label",{staticClass:"btns"},[t("button",{on:{click:function(t){e.add_mode=!0}}},[e._v("Ajouter")])])])]),t("table",{staticClass:"table"},[e._m(7),t("tbody",e._l(e.items,(function(s,a){return t("tr",[t("th",{attrs:{scope:"row"}},[e._v(e._s(a+1))]),t("th",{attrs:{scope:"row"}},[e._v(e._s(s.user.username))]),t("th",{attrs:{scope:"row"}},[e._v(e._s(s.matricule))]),t("td",[e._v(e._s(s.user.first_name)+" "+e._s(s.user.last_name))]),t("td",[e._v(e._s(s.service.nom))]),t("td",[e._v(e._s(s.agence.nom))]),t("td",[e._v(e._s(e.datetime(s.joined)))])])})),0)]),t("div",{staticClass:"pagination"},[t("span",{staticClass:"step-links"},[t("center",[t("div",{staticClass:"buttons"},[e.showPrevButton?t("button",{staticClass:"btn btn-info btn-sm ml-1",on:{click:function(t){return e.loadPrev()}}},[e._v("Prev")]):e._e(),e.showNextButton?t("button",{staticClass:"btn btn-info btn-sm ml-1",on:{click:function(t){return e.loadNext()}}},[e._v("Next ")]):e._e()])])],1)])])]),e._v(" "),t("DialogEmployee",{attrs:{visible:e.add_mode},on:{close:e.exitEdition}})],1)},O=[function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])]),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Employé ")])])])},function(){var e=this,t=e._self._c;return t("section",{staticClass:"row"},[t("section",{staticClass:"col col-lg-12"},[t("a",{staticStyle:{color:"#c1c1c1"},attrs:{href:"#"}}),t("br"),t("br"),t("br")])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:""}},[t("span",[e._v("Employees")])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:""}},[t("span",[e._v("Agences")])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:""}},[t("span",[e._v("Services")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row",staticStyle:{"margin-bottom":"2.2rem","margin-top":"3rem"}},[t("div",{},[t("div",{staticClass:"col-lg-12"},[t("form",{attrs:{action:"",method:"GET"}},[t("div",{staticClass:"input-group"},[t("span",{staticClass:"input-group-btn"}),t("input",{staticClass:"form-control",attrs:{type:"search",name:"search",placeholder:"Search by firstname,lastname..."}})])])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center table-description"},[t("h4",{staticClass:"title-h3",staticStyle:{color:"#60a0b3 !important","text-shadow":"1px 0px rgba(0,0,0,0.11)"}},[e._v("TOUS LES EMPLOYEES ")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("#")]),t("th",{attrs:{scope:"col"}},[e._v("Username")]),t("th",{attrs:{scope:"col"}},[e._v("Matricule")]),t("th",{attrs:{scope:"col"}},[e._v("Nom Complet")]),t("th",{attrs:{scope:"col"}},[e._v("Service")]),t("th",{attrs:{scope:"col"}},[e._v("Agence")]),t("th",{attrs:{scope:"col"}},[e._v("Date")])])])}],z=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{ref:"modal",staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[t("section",{attrs:{id:"registration-page"}},[t("form",{staticClass:"signup-form"},[e._m(0),t("div",{staticClass:"form-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"input-group"},[t("label",[e._v("Username ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.user.username,expression:"employe.user.username"}],attrs:{type:"text",placholder:"Enter the username"},domProps:{value:e.employe.user.username},on:{input:function(t){t.target.composing||e.$set(e.employe.user,"username",t.target.value)}}})])]),t("div",{staticClass:"row"},[t("div",{staticClass:"input-group"},[t("label",[e._v("First name ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.user.first_name,expression:"employe.user.first_name"}],attrs:{type:"text",placholder:"Enter your first name"},domProps:{value:e.employe.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.employe.user,"first_name",t.target.value)}}})]),t("div",{staticClass:"input-group"},[t("label",[e._v("Last name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.user.last_name,expression:"employe.user.last_name"}],attrs:{type:"text",placholder:"Enter your last name"},domProps:{value:e.employe.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.employe.user,"last_name",t.target.value)}}})])]),t("div",{staticClass:"row"},[t("div",{staticClass:"input-group"},[t("label",[e._v("Email ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.user.email,expression:"employe.user.email"}],attrs:{type:"email",placholder:"Enter your email address"},domProps:{value:e.employe.user.email},on:{input:function(t){t.target.composing||e.$set(e.employe.user,"email",t.target.value)}}})])]),t("div",{staticClass:"row"},[t("div",{staticClass:"input-group"},[t("label",[e._v("Matricule ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.matricule,expression:"employe.matricule"}],attrs:{type:"number",placholder:"Enter your first name"},domProps:{value:e.employe.matricule},on:{input:function(t){t.target.composing||e.$set(e.employe,"matricule",t.target.value)}}})]),t("div",{staticClass:"input-group"},[t("label",[e._v("Date de Naissance")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.date_naissance,expression:"employe.date_naissance"}],attrs:{type:"date",placholder:"Enter your last name"},domProps:{value:e.employe.date_naissance},on:{input:function(t){t.target.composing||e.$set(e.employe,"date_naissance",t.target.value)}}})])]),t("div",{staticClass:"row"},[t("div",{staticClass:"input-group"},[t("label",[e._v("Password ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.user.password,expression:"employe.user.password"}],attrs:{type:"password",placholder:"Enter your your password"},domProps:{value:e.employe.user.password},on:{input:function(t){t.target.composing||e.$set(e.employe.user,"password",t.target.value)}}})]),t("div",{staticClass:"input-group"},[t("label",[e._v("Confirm Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.employe.user.password,expression:"employe.user.password"}],attrs:{type:"password",placholder:"Enter your password again"},domProps:{value:e.employe.user.password},on:{input:function(t){t.target.composing||e.$set(e.employe.user,"password",t.target.value)}}})])])]),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"id_nom"}},[e._v("Services")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.employe.service,expression:"employe.service"}],staticClass:"form-control",attrs:{name:"city",id:"city",tabindex:"12"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.employe,"service",t.target.multiple?s:s[0])}}},e._l(e.services,(function(s,a){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.nom))])})),0)]),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"id_nom"}},[e._v("Agence")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.employe.agence,expression:"employe.agence"}],staticClass:"form-control",attrs:{name:"city",id:"city",tabindex:"12"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.employe,"agence",t.target.multiple?s:s[0])}}},e._l(e.agences,(function(s,a){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.nom))])})),0)]),t("center",[t("div",{staticClass:"logs"},[e._v(" "+e._s(e.logs)+" ")])]),t("div",{staticClass:"btn"},[t("button",{ref:"submit",on:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v(" Ajouter ")])])],1)])])])},I=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-header"},[t("h1",[e._v("Créer Employé")])])}],j=(s(7658),{props:{visible:{type:Boolean,default:!1}},data(){return{logs:"",employe:{user:{password:"",is_superuser:!1,username:"",first_name:"",last_name:"",email:""},matricule:"",date_naissance:""}}},computed:{headers(){return{headers:{Authorization:"Bearer "+this.$store.state.user.access}}}},mounted(){this.fetchServices(),this.fetchAgence()},methods:{submitForm(){c().post(this.$store.state.url+"/employe/",this.employe,this.headers).then((e=>{this.employe={},this.$store.state.employes.push(e.data),this.$emit("close")})).catch((e=>{console.error(e)}))},fetchServices(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};c().get(this.$store.state.url+"/service/",e).then((e=>{this.$store.state.services=e.data.results,this.services=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},fetchAgence(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};c().get(this.$store.state.url+"/agence/",e).then((e=>{this.$store.state.agences=e.data.results,this.agences=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},close(){this.$emit("close")},createAgence(){this.agence.nom?this.agence.description?c().post(this.$store.state.url+"/agence/",this.agence,this.headers).then((e=>{this.agence={},this.$store.state.agences.push(e.data),this.$emit("close")})).catch((e=>{console.error(e)})):this.logs="la description est obligatoire":this.logs="le nom est obligatoire"}}}),T=j,L=(0,p.Z)(T,z,I,!1,null,"7d27343d",null),Z=L.exports,M={components:{DialogEmployee:Z},data(){return{csvData:{},items:this.$store.state.employes,items1:this.$store.state.services,items2:this.$store.state.agences,active_item:{},currentPage:1,showNextButton:!1,showPrevButton:!1,search_term:"",loading:!1,edit_mode:!1,achat_mode:!1,add_mode:!1}},watch:{"$store.state.employes"(e){this.items=e}},methods:{exitEdition(){this.active_item={},this.add_mode=!1,this.edit_mode=!1},startEdit(e){this.active_item=e,this.edit_mode=!0},fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/employe/",e).then((e=>{e.data.next&&(this.showNextButton=!0),e.data.previous&&(this.showPrevButton=!0),this.$store.state.employes=e.data.results,this.items=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},loadNext(){this.currentPage+=1,this.fetchData()},loadPrev(){this.currentPage-=1,this.fetchData()},fetchServices(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/service/",e).then((e=>{this.$store.state.services=e.data.results,this.items1=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},fetchAgence(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/agence/",e).then((e=>{this.$store.state.agences=e.data.results,this.items2=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))}},mounted(){this.fetchData(),this.fetchServices(),this.fetchAgence()}},q=M,F=(0,p.Z)(q,B,O,!1,null,null,null),U=F.exports,V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-panel"},[t("div",{staticClass:"content-wrapper"},[t("div",{staticClass:"row"},[e._m(0),t("div",{staticClass:"col-lg-12 grid-margin"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[e._m(1),t("hr"),t("form",{staticClass:"form-group",attrs:{method:"post"}},[t("span",{staticClass:"mb-5"},[e._v("** All Fields are required")]),t("br"),t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-striped"},[e._m(2),t("tbody",[t("tr",[t("td",{staticClass:"py-3"},[t("input",{attrs:{type:"date hidden"},domProps:{value:e.currentDate()}})]),t("td",[e._v(" "+e._s(this.user.username)+" ")]),t("td",[t("div",{staticClass:"field"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.presence.status,expression:"presence.status"}],attrs:{type:"text",name:"cars_id",id:"id_entrant"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.presence,"status",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"PRESENT"}},[e._v("PRESENT")]),t("option",{attrs:{value:"ABSENT"}},[e._v("ABSENT")]),t("option",{domProps:{value:e.UNAVAILABLE}},[e._v("UNAVAILABLE")])])])])])])])]),t("div",{staticClass:"text-center mt-3"},[t("button",{staticClass:"btn btn-rounded btn-outline-success",on:{click:function(t){return t.preventDefault(),e.signIn.apply(null,arguments)}}},[e._v("Sign in ")])])]),t("br"),e._m(3),t("hr"),t("small",{staticClass:"text-center"},[e._v("Ceci est une liste des membres du personnel qui sont actuellement présents ou absents. ")]),t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-striped"},[e._m(4),t("tbody",e._l(e.items,(function(s,a){return t("tr",[t("th",[e._v(e._s(s.user.username))]),t("td",{staticClass:"py-1"},[e._v(" "+e._s(s.date)+" ")]),t("td",[e._v(" "+e._s(s.first_in)+" ")]),t("td",[e._v(" "+e._s(s.last_out)+" ")]),t("td",[e._v(" "+e._s(s.status)+" ")]),t("td",[e._v(" "+e._s(s.hours)+" ")]),0==s.is_approved?t("td",[t("button",{staticClass:"fa fa-sign-out",staticStyle:{"background-color":"mediumvioletred",color:"white"},on:{click:function(t){return t.preventDefault(),e.signOut(s)}}},[e._v("Sign-out")])]):t("td",[e._v("-")])])})),0)])])])])])])])])},J=[function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])]),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Présence ")])])])},function(){var e=this,t=e._self._c;return t("h4",{staticClass:"text-center text-primary"},[t("i",{staticClass:"fa fa-check-square-o"},[e._v("  Présence des employés ")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v(" Date ")]),t("th",[e._v(" Employé ")]),t("th",[e._v(" Status ")])])])},function(){var e=this,t=e._self._c;return t("h4",{staticClass:"text-center text-primary"},[t("i",{staticClass:"fa fa-sign-in"},[e._v("  Signed In Staffer(s) ")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Utilisateur")]),t("th",[e._v(" Date ")]),t("th",[e._v(" Arrivé ")]),t("th",[e._v(" Depart ")]),t("th",[e._v(" Status ")]),t("th",[e._v(" Duration ")]),t("th",[e._v(" Action(s) ")])])])}],R={data(){return{logs:"",presence:{},items:[]}},computed:{headers(){return{headers:{Authorization:"Bearer "+this.$store.state.user.access}}}},methods:{signIn(){c().post(this.$store.state.url+"/presence/",this.presence,this.headers).then((e=>{this.presence={},this.$store.state.presences.push(e.data),this.fetchData()})).catch((e=>{console.error(e)}))},signOut(e){c().put(this.$store.state.url+`/presence/${e.id}/`,this.presence,this.headers).then((e=>{this.presence={},this.$store.state.presences.push(e.data),this.fetchData()})).catch((e=>{console.error(e)}))},fetchData(){0==this.$store.state.users.length&&c().get(this.$store.state.url+"/presence/",this.headers).then((e=>{e.data.next&&(this.showNextButton=!0),e.data.previous&&(this.showPrevButton=!0),this.$store.state.presences=e.data.results,this.items=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},currentDate(){const e=new Date,t=`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`;return t}},mounted(){this.fetchData()}},G=R,H=(0,p.Z)(G,V,J,!1,null,"58af25d0",null),Q=H.exports,W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"conge"},[e._m(0),t("section",{staticClass:"content"},[t("section",{staticClass:"container-fluid"},[t("div",{staticClass:"table-responsive table-shadow"},[t("div",{staticClass:"text-center table-description"},[t("h4",{staticClass:"title-h3",staticStyle:{color:"#60a0b3 !important","text-shadow":"1px 0px rgba(0,0,0,0.11)"}},[e._v("TOUS LES CONGES")]),t("label",{staticClass:"btns"},[t("button",{on:{click:function(t){e.add_mode=!0}}},[e._v("Demander")])])]),t("table",{staticClass:"table"},[e._m(1),t("tbody",e._l(e.items,(function(s,a){return t("tr",[t("td",[e._v(e._s(a+1))]),t("td",[e._v(e._s(s.user))]),t("td",[e._v(e._s(s.date_de_debut))]),t("td",[e._v(e._s(s.date_de_fin))]),t("td",[e._v(e._s(s.type_de_conge))]),t("td",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(s.statut))]),t("td",[e._v(e._s(s.jours_par_defaut)+" jours")]),t("th",{staticStyle:{"background-color":"aliceblue"}},[e._v(e._s(s.sold)+" jours")]),0==s.is_approved?t("td",[e.$store.state.user.groups.includes("admin")?t("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.Valider(s)}}},[e._v("Valider")]):e._e(),t("button",{staticClass:"btn",on:{click:[function(t){e.edit_mode=!0},function(t){return t.preventDefault(),e.startEdit(s)}]}},[e._v("edit")]),t("button",{staticClass:"btn",staticStyle:{"background-color":"red"},on:{click:function(t){return e.Delete(s)}}},[e._v("delete")])]):t("td")])})),0)])])])]),t("ServiceDialog",{attrs:{visible:e.add_mode},on:{close:e.exitEdition}}),t("EditDialog",{attrs:{visible:e.edit_mode,service:e.active_item},on:{close:e.exitEdition}})],1)},Y=[function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])]),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Congé ")])])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("#")]),t("th",{attrs:{scope:"col"}},[e._v("User")]),t("th",{attrs:{scope:"col"}},[e._v("Debut")]),t("th",{attrs:{scope:"col"}},[e._v("Fin")]),t("th",{attrs:{scope:"col"}},[e._v("Type")]),t("th",{attrs:{scope:"col"}},[e._v("Statut")]),t("th",{attrs:{scope:"col"}},[e._v("Nbre Jours")]),t("th",{staticStyle:{"background-color":"aliceblue"},attrs:{scope:"col"}},[e._v("Solde")]),t("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],K=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{staticClass:"popup-body",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[t("center",[t("h3",[e._v("Modifier")])]),t("form",{attrs:{method:"post"}},[t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Debut:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.date_de_debut,expression:"new_service.date_de_debut"}],attrs:{type:"date",id:"id_unite"},domProps:{value:e.new_service.date_de_debut},on:{input:function(t){t.target.composing||e.$set(e.new_service,"date_de_debut",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Fin:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.date_de_fin,expression:"new_service.date_de_fin"}],attrs:{type:"date",id:"id_unite"},domProps:{value:e.new_service.date_de_fin},on:{input:function(t){t.target.composing||e.$set(e.new_service,"date_de_fin",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",[e._v("Selectionnez le type de conge")]),t("br"),t("select",{directives:[{name:"model",rawName:"v-model",value:e.new_service.type_de_conge,expression:"new_service.type_de_conge"}],attrs:{type:"text",name:"cars_id",id:"id_entrant"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.new_service,"type_de_conge",t.target.multiple?s:s[0])}}},[t("option",[e._v("---- Selection d'une type ----")]),t("option",{attrs:{value:"conge de maladie"}},[e._v("Conge de maladie")]),t("option",{attrs:{value:"Conge annuelle"}},[e._v("Conge annuelle")]),t("option",{attrs:{value:"Conge circonstance"}},[e._v("Conge circonstance")]),t("option",{attrs:{value:"Conge prénatal"}},[e._v("Conge prénatal")]),t("option",{attrs:{value:"Conge postnatal"}},[e._v("Conge postnatal")]),t("option",{attrs:{value:"Conge prenatal"}},[e._v("Conge prenatal")]),t("option",{attrs:{value:"Conge d'etude"}},[e._v("Conge d'etude")])])]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Raison:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.raison,expression:"new_service.raison"}],attrs:{type:"text",id:"id_unite"},domProps:{value:e.new_service.raison},on:{input:function(t){t.target.composing||e.$set(e.new_service,"raison",t.target.value)}}})]),t("div",{staticClass:"btn"},[t("div",{staticClass:"logs"},[e._v(e._s(e.logs))]),t("input",{attrs:{type:"submit",value:"Modifier"},on:{click:e.changerService}})])])],1)])},X=[],ee={props:{visible:{type:Boolean,default:!1},service:{type:Object,required:!0}},data(){return{logs:"",new_price:"",new_service:""}},watch:{service(e){this.new_service=JSON.parse(JSON.stringify(e))}},methods:{close(){this.$emit("close")},changerService(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};c().put(this.$store.state.url+`/conge/${this.service.id}/`,this.new_service,e).then((e=>{let t=this.$store.state.conges;for(var s=0;s<t.length;s++){let a=t[s];if(a.id==this.service.id){this.$store.state.conges[s]=e.data;break}}this.$emit("close")})).catch((e=>{console.error(e)}))}}},te=ee,se=(0,p.Z)(te,K,X,!1,null,"e9ab9230",null),ae=se.exports,ie=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{ref:"modal",staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[t("center",[t("h3",[e._v("Créer conge")])]),t("form",{attrs:{method:"post"}},[t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_nom"}},[e._v("Debut:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.conge.date_de_debut,expression:"conge.date_de_debut"}],attrs:{type:"date",id:"id_nom",placeholder:"le nom du conge"},domProps:{value:e.conge.date_de_debut},on:{input:function(t){t.target.composing||e.$set(e.conge,"date_de_debut",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_nom"}},[e._v("Fin:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.conge.date_de_fin,expression:"conge.date_de_fin"}],attrs:{type:"date",id:"id_nom",placeholder:"le nom du conge"},domProps:{value:e.conge.date_de_fin},on:{input:function(t){t.target.composing||e.$set(e.conge,"date_de_fin",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",[e._v("Selectionnez le type de conge")]),t("br"),t("select",{directives:[{name:"model",rawName:"v-model",value:e.conge.type_de_conge,expression:"conge.type_de_conge"}],attrs:{type:"text",name:"cars_id",id:"id_entrant"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.conge,"type_de_conge",t.target.multiple?s:s[0])}}},[t("option",[e._v("---- Selection d'une type ----")]),t("option",{attrs:{value:"conge de maladie"}},[e._v("Conge de maladie")]),t("option",{attrs:{value:"Conge annuelle"}},[e._v("Conge annuelle")]),t("option",{attrs:{value:"Conge circonstance"}},[e._v("Conge circonstance")]),t("option",{attrs:{value:"Conge prénatal"}},[e._v("Conge prénatal")]),t("option",{attrs:{value:"Conge postnatal"}},[e._v("Conge postnatal")]),t("option",{attrs:{value:"Conge prenatal"}},[e._v("Conge prenatal")]),t("option",{attrs:{value:"Conge d'etude"}},[e._v("Conge d'etude")])])]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_entrant"}},[e._v("Raison:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.conge.raison,expression:"conge.raison"}],attrs:{type:"text",id:"id_entrant",placeholder:"decrire le raison du conge.."},domProps:{value:e.conge.raison},on:{input:function(t){t.target.composing||e.$set(e.conge,"raison",t.target.value)}}})]),t("div",{staticClass:"logs"},[e._v(e._s(e.logs))]),t("div",{staticClass:"btns"},[t("button",{ref:"submit",on:{click:function(t){return t.preventDefault(),e.createconge.apply(null,arguments)}}},[e._v(" Ajouter ")])])])],1)])},oe=[],re={props:{visible:{type:Boolean,default:!1},modelaVisible:!0},data(){return{logs:"",conge:{}}},computed:{headers(){return{headers:{Authorization:"Bearer "+this.$store.state.user.access}}}},mounted(){this.fetchData()},methods:{fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/conge/",e).then((e=>{this.$store.state.conges=e.data.results})).catch((e=>{e.response||console.error(e)}))},close(){this.$emit("close")},createconge(){this.conge.date_de_debut?this.conge.date_de_fin?this.conge.type_de_conge?this.conge.raison?c().post(this.$store.state.url+"/conge/",this.conge,this.headers).then((e=>{this.conge={},this.$store.state.conges.push(e.data),this.$emit("close")})).catch((e=>{console.error(e)})):this.logs="la raison de conge est obligatoire":this.logs="la type de conge est obligatoire":this.logs="la date de fin est obligatoire":this.logs="le date de debut est obligatoire"}}},ne=re,le=(0,p.Z)(ne,ie,oe,!1,null,null,null),ce=le.exports,de={components:{ServiceDialog:ce,EditDialog:ae},data(){return{csvData:{},items:this.$store.state.conges,active_item:{},edit_mode:!1,achat_mode:!1,add_mode:!1,conge:{}}},watch:{"$store.state.conges"(e){this.items=e}},methods:{Valider(e){let t={headers:{Authorization:"Bearer "+this.$store.state.user.access}};c().put(this.$store.state.url+`/conge/${e.id}/`,this.conge,t).then((e=>{this.conge={},this.$store.state.conges.push(e.data),this.fetchData()})).catch((e=>{console.error(e)}))},Delete(e){confirm("Delete "+e.id)&&c()["delete"](this.$store.state.url+`/conge/${e.id}/`,this.header).then((e=>(this.fetchData(),e)))},exitEdition(){this.active_item={},this.add_mode=!1,this.edit_mode=!1},startEdit(e){this.active_item=e,this.edit_mode=!0},fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/conge/",e).then((e=>{this.$store.state.conges=e.data.results,this.items=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},total(){let e=0;for(let t of this.items)e+=1;return e}},mounted(){this.fetchData()}},ue=de,pe=(0,p.Z)(ue,W,Y,!1,null,"42d1be8c",null),ve=pe.exports,me=function(){var e=this;e._self._c;return e._m(0)},he=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"conge"},[t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])]),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Quotation ")])])]),t("section",[t("div",{staticClass:"conge"},[t("h3",[e._v("What's next for quotation ???")])])])])}],_e={data(){return{csvData:{},items:this.$store.state.services,active_item:{},edit_mode:!1,achat_mode:!1,add_mode:!1}},watch:{"$store.state.services"(e){this.items=e}},methods:{Delete(e){let t={headers:{Authorization:"Bearer "+this.$store.state.user.access}};confirm("Effacer le service "+e.nom)&&c()["delete"](this.$store.state.url+`/service/${e.id}/`,t).then((e=>(this.fetchData(),e)))},exitEdition(){this.active_item={},this.add_mode=!1,this.edit_mode=!1},startEdit(e){this.active_item=e,this.edit_mode=!0},fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/service/",e).then((e=>{this.$store.state.services=e.data.results,this.items=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},total(){let e=0;for(let t of this.items)e+=1;return e}},mounted(){this.fetchData()}},ge=_e,fe=(0,p.Z)(ge,me,he,!1,null,"44f32a52",null),be=fe.exports,ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"conge"},[e._m(0),t("section",{staticClass:"content"},[t("section",{staticClass:"container-fluid"},[t("div",{staticClass:"table-responsive table-shadow"},[t("div",{staticClass:"text-center table-description"},[t("h4",{staticClass:"title-h3",staticStyle:{color:"#60a0b3 !important","text-shadow":"1px 0px rgba(0,0,0,0.11)"}},[e._v("TOUS LES AGENCES")]),t("label",{staticClass:"btns"},[t("button",{on:{click:function(t){e.add_mode=!0}}},[e._v("Ajouter")])])]),t("table",{staticClass:"table"},[e._m(1),t("tbody",e._l(e.items,(function(s,a){return t("tr",[t("td",[e._v(e._s(a+1))]),t("td",[e._v(e._s(s.nom))]),t("td",[e._v(e._s(s.description))]),t("td",[e._v(e._s(e.datetime(s.created)))]),t("td",[t("button",{staticClass:"btn",on:{click:[function(t){e.edit_mode=!0},function(t){return t.preventDefault(),e.startEdit(s)}]}},[e._v("edit")]),t("button",{staticClass:"btn",staticStyle:{"background-color":"red"},on:{click:function(t){return e.Delete(s)}}},[e._v("delete")])])])})),0)])])])]),t("AgenceDialog",{attrs:{visible:e.add_mode},on:{close:e.exitEdition}}),t("EditDialog",{attrs:{visible:e.edit_mode,service:e.active_item},on:{close:e.exitEdition}})],1)},Ce=[function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])]),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Agence ")])])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("#")]),t("th",{attrs:{scope:"col"}},[e._v("Nom")]),t("th",{attrs:{scope:"col"}},[e._v("Description")]),t("th",{attrs:{scope:"col"}},[e._v("Date")]),t("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],$e=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{staticClass:"popup-body",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[t("center",[t("h3",[e._v("Modifier "+e._s(e.service.nom))])]),t("form",{attrs:{method:"post"}},[t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Nom:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.nom,expression:"new_service.nom"}],attrs:{type:"text",id:"id_unite"},domProps:{value:e.new_service.nom},on:{input:function(t){t.target.composing||e.$set(e.new_service,"nom",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Description:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.description,expression:"new_service.description"}],attrs:{type:"text",id:"id_unite"},domProps:{value:e.new_service.description},on:{input:function(t){t.target.composing||e.$set(e.new_service,"description",t.target.value)}}})]),t("div",{staticClass:"btn"},[t("div",{staticClass:"logs"},[e._v(e._s(e.logs))]),t("input",{attrs:{type:"submit",value:"Modifier"},on:{click:e.changerService}})])])],1)])},xe=[],we={props:{visible:{type:Boolean,default:!1},service:{type:Object,required:!0}},data(){return{logs:"",new_price:"",new_service:""}},watch:{service(e){this.new_service=JSON.parse(JSON.stringify(e))}},methods:{close(){this.$emit("close")},changerService(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};c().put(this.$store.state.url+`/agence/${this.service.id}/`,this.new_service,e).then((e=>{let t=this.$store.state.agences;for(var s=0;s<t.length;s++){let a=t[s];if(a.id==this.service.id){this.$store.state.agences[s]=e.data,console.log(e.data);break}}this.$emit("close")})).catch((e=>{console.error(e)}))}}},Se=we,De=(0,p.Z)(Se,$e,xe,!1,null,"b8594676",null),Pe=De.exports,ke=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{ref:"modal",staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[t("center",[t("h3",[e._v("Créer agence")])]),t("form",{attrs:{method:"post"}},[t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_nom"}},[e._v("Nom:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.agence.nom,expression:"agence.nom"}],attrs:{type:"text",id:"id_nom",placeholder:"le nom du agence"},domProps:{value:e.agence.nom},on:{input:function(t){t.target.composing||e.$set(e.agence,"nom",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_entrant"}},[e._v("Description:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.agence.description,expression:"agence.description"}],attrs:{type:"text",id:"id_entrant",placeholder:"decrire le agence.."},domProps:{value:e.agence.description},on:{input:function(t){t.target.composing||e.$set(e.agence,"description",t.target.value)}}})]),t("div",{staticClass:"logs"},[e._v(e._s(e.logs))]),t("div",{staticClass:"btns"},[t("button",{ref:"submit",on:{click:function(t){return t.preventDefault(),e.createAgence.apply(null,arguments)}}},[e._v(" Ajouter ")])])])],1)])},Ee=[],Ae={props:{visible:{type:Boolean,default:!1}},data(){return{logs:"",agence:{}}},computed:{headers(){return{headers:{Authorization:"Bearer "+this.$store.state.user.access}}}},mounted(){this.fetchData()},methods:{fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/agence/",e).then((e=>{this.$store.state.agences=e.data.results})).catch((e=>{e.response||console.error(e)}))},close(){this.$emit("close")},createAgence(){this.agence.nom?this.agence.description?c().post(this.$store.state.url+"/agence/",this.agence,this.headers).then((e=>{this.agence={},this.$store.state.agences.push(e.data),this.$emit("close")})).catch((e=>{console.error(e)})):this.logs="la description est obligatoire":this.logs="le nom est obligatoire"}}},Ne=Ae,Be=(0,p.Z)(Ne,ke,Ee,!1,null,null,null),Oe=Be.exports,ze={components:{AgenceDialog:Oe,EditDialog:Pe},data(){return{csvData:{},items:this.$store.state.agences,active_item:{},edit_mode:!1,achat_mode:!1,add_mode:!1}},watch:{"$store.state.agences"(e){this.items=e}},methods:{Delete(e){let t={headers:{Authorization:"Bearer "+this.$store.state.user.access}};confirm("Efface agence "+e.nom)&&c()["delete"](this.$store.state.url+`/agence/${e.id}/`,t).then((e=>(this.fetchData(),e)))},exitEdition(){this.active_item={},this.add_mode=!1,this.edit_mode=!1},startEdit(e){this.active_item=e,this.edit_mode=!0},fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/agence/",e).then((e=>{this.$store.state.agences=e.data.results,this.items=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},total(){let e=0;for(let t of this.items)e+=1;return e}},mounted(){this.fetchData()}},Ie=ze,je=(0,p.Z)(Ie,ye,Ce,!1,null,"b51f5876",null),Te=je.exports,Le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"conge"},[e._m(0),t("section",{staticClass:"content"},[t("section",{staticClass:"container-fluid"},[t("div",{staticClass:"table-responsive table-shadow"},[t("div",{staticClass:"text-center table-description"},[t("h4",{staticClass:"title-h3",staticStyle:{color:"#60a0b3 !important","text-shadow":"1px 0px rgba(0,0,0,0.11)"}},[e._v("TOUS LES SERVICES")]),t("label",{staticClass:"btns"},[t("button",{on:{click:function(t){e.add_mode=!0}}},[e._v("Ajouter")])])]),t("table",{staticClass:"table"},[e._m(1),0==e.items.length?t("tbody",[t("tr",[t("center",[t("h3",[e._v("pas de services deja mise en place..")])])],1)]):t("tbody",e._l(e.items,(function(s,a){return t("tr",[t("td",[e._v(e._s(a+1))]),t("td",[e._v(e._s(s.nom))]),t("td",[e._v(e._s(s.description))]),t("td",[e._v(e._s(e.datetime(s.created)))]),t("td",[t("button",{staticClass:"btn",on:{click:[function(t){e.edit_mode=!0},function(t){return t.preventDefault(),e.startEdit(s)}]}},[e._v("edit")]),t("button",{staticClass:"btn",staticStyle:{"background-color":"red"},on:{click:function(t){return e.Delete(s)}}},[e._v("delete")])])])})),0)])])])]),t("ServiceDialog",{attrs:{visible:e.add_mode},on:{close:e.exitEdition}}),t("EditDialog",{attrs:{visible:e.edit_mode,service:e.active_item},on:{close:e.exitEdition}})],1)},Ze=[function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb",staticStyle:{"font-size":"24px"}},[t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"/"}},[e._v("Dashboard")])]),t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("Service ")])])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("#")]),t("th",{attrs:{scope:"col"}},[e._v("Nom")]),t("th",{attrs:{scope:"col"}},[e._v("Description")]),t("th",{attrs:{scope:"col"}},[e._v("Date")]),t("th",{attrs:{scope:"col"}},[e._v("Actions")])])])}],Me=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{staticClass:"popup-body",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[t("center",[t("h3",[e._v("Modifier "+e._s(e.service.nom))])]),t("form",{attrs:{method:"post"}},[t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Nom:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.nom,expression:"new_service.nom"}],attrs:{type:"text",id:"id_unite"},domProps:{value:e.new_service.nom},on:{input:function(t){t.target.composing||e.$set(e.new_service,"nom",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_unite"}},[e._v("Description:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_service.description,expression:"new_service.description"}],attrs:{type:"text",id:"id_unite"},domProps:{value:e.new_service.description},on:{input:function(t){t.target.composing||e.$set(e.new_service,"description",t.target.value)}}})]),t("div",{staticClass:"btn"},[t("div",{staticClass:"logs"},[e._v(e._s(e.logs))]),t("input",{attrs:{type:"submit",value:"Modifier"},on:{click:e.changerService}})])])],1)])},qe=[],Fe={props:{visible:{type:Boolean,default:!1},service:{type:Object,required:!0}},data(){return{logs:"",new_price:"",new_service:""}},watch:{service(e){this.new_service=JSON.parse(JSON.stringify(e))}},methods:{close(){this.$emit("close")},changerService(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};c().put(this.$store.state.url+`/service/${this.service.id}/`,this.new_service,e).then((e=>{let t=this.$store.state.services;for(var s=0;s<t.length;s++){let a=t[s];if(a.id==this.service.id){this.$store.state.services[s]=e.data;break}}this.$emit("close")})).catch((e=>{console.error(e)}))}}},Ue=Fe,Ve=(0,p.Z)(Ue,Me,qe,!1,null,"1e5cd380",null),Je=Ve.exports,Re=function(){var e=this,t=e._self._c;return t("div",{class:{popup:!0,active:e.visible},on:{click:e.close}},[t("div",{ref:"modal",staticClass:"popup-body",on:{click:function(e){e.stopPropagation()}}},[t("center",[t("h3",[e._v("Créer service")])]),t("form",{attrs:{method:"post"}},[t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_nom"}},[e._v("Nom:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.service.nom,expression:"service.nom"}],attrs:{type:"text",id:"id_nom",placeholder:"le nom du service"},domProps:{value:e.service.nom},on:{input:function(t){t.target.composing||e.$set(e.service,"nom",t.target.value)}}})]),t("div",{staticClass:"field"},[t("label",{attrs:{for:"id_entrant"}},[e._v("Description:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.service.description,expression:"service.description"}],attrs:{type:"text",id:"id_entrant",placeholder:"decrire le service.."},domProps:{value:e.service.description},on:{input:function(t){t.target.composing||e.$set(e.service,"description",t.target.value)}}})]),t("div",{staticClass:"logs"},[e._v(e._s(e.logs))]),t("div",{staticClass:"btns"},[t("button",{ref:"submit",on:{click:function(t){return t.preventDefault(),e.createService.apply(null,arguments)}}},[e._v(" Ajouter ")])])])],1)])},Ge=[],He={props:{visible:{type:Boolean,default:!1},modelaVisible:!0},data(){return{logs:"",service:{}}},computed:{headers(){return{headers:{Authorization:"Bearer "+this.$store.state.user.access}}}},mounted(){this.fetchData()},methods:{fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/service/",e).then((e=>{this.$store.state.services=e.data.results})).catch((e=>{e.response||console.error(e)}))},close(){this.$emit("close")},createService(){this.service.nom?this.service.description?c().post(this.$store.state.url+"/service/",this.service,this.headers).then((e=>{this.service={},this.$store.state.services.push(e.data),this.$emit("close")})).catch((e=>{console.error(e)})):this.logs="la description est obligatoire":this.logs="le nom est obligatoire"}}},Qe=He,We=(0,p.Z)(Qe,Re,Ge,!1,null,null,null),Ye=We.exports,Ke={components:{ServiceDialog:Ye,EditDialog:Je},data(){return{csvData:{},items:this.$store.state.services,active_item:{},edit_mode:!1,achat_mode:!1,add_mode:!1}},watch:{"$store.state.services"(e){this.items=e}},methods:{Delete(e){let t={headers:{Authorization:"Bearer "+this.$store.state.user.access}};confirm("Effacer le service "+e.nom)&&c()["delete"](this.$store.state.url+`/service/${e.id}/`,t).then((e=>(this.fetchData(),e)))},exitEdition(){this.active_item={},this.add_mode=!1,this.edit_mode=!1},startEdit(e){this.active_item=e,this.edit_mode=!0},fetchData(){let e={headers:{Authorization:"Bearer "+this.$store.state.user.access}};0==this.$store.state.users.length&&c().get(this.$store.state.url+"/service/",e).then((e=>{this.$store.state.services=e.data.results,this.items=e.data.results,console.log(e.data.results)})).catch((e=>{e.response||console.error(e)}))},total(){let e=0;for(let t of this.items)e+=1;return e}},mounted(){this.fetchData()}},Xe=Ke,et=(0,p.Z)(Xe,Le,Ze,!1,null,"0aafc2e8",null),tt=et.exports;a.ZP.use(S.ZP);const st=[{path:"/",name:"",component:N},{path:"/employes",name:"employes",component:U},{path:"/presence",name:"presence",component:Q},{path:"/conge",name:"conge",component:ve},{path:"/quotation",name:"quotation",component:be},{path:"/service",name:"service",component:tt},{path:"/agence",name:"agence",component:Te}],at=new S.ZP({mode:"history",base:"/",routes:st});var it=at,ot=s(408);a.ZP.use(ot.ZP);var rt=new ot.ZP.Store({state:{user:null,clients:[],url:"/api",employes:[],conges:[],presences:[],services:[],agences:[],users:[]},mutations:{},actions:{},modules:{}}),nt=s(7979),lt=s(9946),ct=s(4984);nt.vI.add(lt.sq$,lt.IA$,lt.FVb,lt.koM,lt.IwR,lt.I7k,lt.LEp,lt.oFW,lt.oTz,lt.q7m,lt.cf$),a.ZP.component("fa",ct.GN),a.ZP.mixin({methods:{money(e){return void 0==e||null==e?"-":e.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},datetime(e){if(!e)return"-";let t=new Date(e);return new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"short"}).format(t)},userIs(e){return this.user.groups.includes(e)}},computed:{user(){return this.$store.state.user}}}),a.ZP.config.productionTip=!1,new a.ZP({router:it,store:rt,render:e=>e(w)}).$mount("#app")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,o){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],o=e[d][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(n=!1,o<r&&(r=o));if(n){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,i,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,o,r=a[0],n=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var d=l(s)}for(t&&t(a);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkattendency_ui1"]=self["webpackChunkattendency_ui1"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(1530)}));a=s.O(a)})();
//# sourceMappingURL=app.52e4cf8f.js.map